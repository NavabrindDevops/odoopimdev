<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="product_creation_view" model="ir.ui.view">
            <field name="name">Product Create</field>
            <field name="model">product.create</field>
            <field name="arch" type="xml">
                <form create="false" edit="false" delete="false" class="page_form" string="Product">
                    <div class="center-page-container">
                        <h1>CREATE PRODUCT</h1>
                        <h3>Select your action</h3>
                        <div class="button-container">
                            <div class="attribute-button">
                                <button name="create_product_rec" type="object" class="btn btn-light attribute-icon-button">
                                    <i class="fa fa-calendar fa-2x"></i>
                                    <span>Product</span>
                                </button>
                            </div>
                            <div class="attribute-button">
                                <button name="create_product_rec_model" type="object" class="btn btn-light attribute-icon-button">
                                    <i class="fa fa-file fa-2x"></i>
                                    <span>Product model</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </field>
        </record>

        <record id="product_creation_view_master" model="ir.ui.view">
            <field name="name">Products</field>
            <field name="model">product.create.master</field>
            <field name="arch" type="xml">
                <form create="false" edit="false" delete="false" class="page_form" string="Product">
                    <div class="center-page-container" style="max-width: 600px; margin: auto;">
                        <!-- Title -->
                        <h2 style="font-size: 24px; color: #6B3FA0; text-align: left; font-weight: bold;">
                            PRODUCTS
                        </h2>
                        <h3 style="font-size: 32px; text-align: left; margin-top: 0;">Create</h3>

                        <!-- Banner Information -->
<!--                        <div style="background-color: #F0F8FF; border: 1px solid #d5e6f7; padding: 15px; border-radius: 8px; margin-bottom: 20px;">-->
<!--                            <i class="fa fa-info-circle" style="color: #6B3FA0; margin-right: 5px;"></i>-->
<!--                            <span style="font-size: 14px; color: #5B5B5B;">-->
<!--                                The identifier is now an optional field. <a href="#" style="color: #6B3FA0; text-decoration: underline;">Read more</a> about this change and the possible impacts for your products.-->
<!--                            </span>-->
<!--                        </div>-->

                        <div>
                            <div style="margin-bottom: 15px; text-align: justify; text-transform: uppercase;">
                                <label for="family_id" style="display: block; font-weight: bold; margin: 0; padding: 0; text-align: left;">
                                    Family
                                </label>
                                <field name="family_id" options="{'no_create_edit': True, 'no_quick_create': True, 'no_open': True}"  style="width: 100%; border: 1px solid #ccc; padding: 0px; border-radius: 8px;"/>
                            </div>

                            <div style="margin-bottom: 15px; text-align: justify; text-transform: uppercase;">
                                <label for="sku" style="display: block; font-weight: bold;">SKU</label>
                                <field name="sku" style="width: 100%; border: 1px solid #ccc; padding: 0px; border-radius: 8px;"/>
                            </div>

                            <div style="margin-top: 20px; display: flex; gap: 10px;">
                                <button name="product_cancel" string="Cancel" type="object" style="border-radius: 30px; padding: 10px 20px; background-color: #d3d3d3; border: none; color: #555555;" class="btn btn-secondary"/>
                                <button name="product_save" string="Save" type="object" style="border-radius: 30px; padding: 10px 20px; background-color: #6B3FA0; border: none; color: white;" class="btn btn-success"/>
                            </div>

                        </div>
                    </div>
                </form>
            </field>
        </record>

        <record id="view_product_management_kanban" model="ir.ui.view">
            <field name="name">product.management.kanban</field>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile fam_grid_box" default_order="create_date desc" create="0" limit="80" default_group_by="brand_id">
                <header>
                    <button name="create_pim_products" type="object" class="btn-primary"
                            string="Create" display="always"
                            invisible="context.get('active_model', 'product.template') != 'product.template'"/>
                </header>
                <field name="name" string="Family Name"/>
<!--                <field name="family_id" string="Family ID"/>-->
<!--                <field name="brand_id" string="Brand Name"/>-->
<!--                <field name="buyer_id"/>-->
<!--                <field name="sku_count"/>-->
                <templates>
                    <t t-name="kanban-box">
                <!--        <t t-set="bg_class" t-value="'green_bg'"/>-->
<!--                            <t t-if="record.completeness.value &gt;= 70">-->
<!--                                <t t-set="bg_class" t-value="'green_bg'"/>-->
<!--                            </t>-->
<!--                            <t t-elif="record.completeness.value &gt;= 55 and record.completeness.value &lt; 70">-->
<!--                                <t t-set="bg_class" t-value="'light_green_bg'"/>-->
<!--                            </t>-->
<!--                            <t t-elif="record.completeness.value &gt;= 40 and record.completeness.value &lt; 55">-->
<!--                                <t t-set="bg_class" t-value="'yellow_bg'"/>-->
<!--                            </t>-->
<!--                            <t t-elif="record.completeness.value &gt;= 25 and record.completeness.value &lt; 40">-->
<!--                                <t t-set="bg_class" t-value="'orange_bg'"/>-->
<!--                            </t>-->
<!--                            <t t-elif="record.completeness.value &gt;= 0 and record.completeness.value &lt; 25">-->
<!--                                <t t-set="bg_class" t-value="'red_bg'"/>-->
<!--                            </t>-->

                        <div class="o_kanban_card" t-att-class="'fam_grid ' + bg_class">
                            <div class="o_kanban_image fam_grid_image">
                                <img alt="Avatar" t-att-src="kanban_image('product.template', 'image_1920', record.id.raw_value)"/>
                            </div>

                            <div class="oe_kanban_details fam_grid_content">
<!--                                <div class="o_kanban_record_title">-->
<!--                                    <i class="fa fa-lg fa-square-o jstr-pull-right jstr-hide-mobile jstr-hide-tablet"></i>-->
<!--                                    <i class="fa fa-lg fa-check-square-o jstr-pull-right jstr-hide-mobile jstr-hide-tablet"></i>-->
<!--                &lt;!&ndash;                    <i class="fa fa-trash jstr-pull-right jstr-hide-mobile jstr-hide-tablet"></i>&ndash;&gt;-->
<!--                                    <span class="jstr-overalyed">-->
<!--                                        <field name="name"/>-->
<!--                                    </span>-->
<!--                                </div>-->
                                <div t-attf-class="oe_kanban_global_click family_record_grid">
                                    <ul class="fam_list">
                                        <li class="mb4 fam_list_title">
                                            <field name="name"/>
                                        </li>
                                        <div class="d-flex fam_list_value">
                                            <div>
                                                <li><span class="value_weight">Family: </span><field name="family_id"/></li>
                                                <li><span class="value_weight">Brand: </span><field name="brand_id"/></li>
                                            </div>
<!--                                            <div>-->
<!--                                                <li><span class="value_weight">Buyer: </span><field name="buyer_id"/></li>-->
<!--                                                <li><span class="value_weight">SKU(s): </span><field name="sku_count"/></li>-->
<!--                                            </div>-->
                                        </div>
                                    </ul>
                                    <div class="d-flex justify-content-between">
                                        <div class="fam_grid_sts d-flex flex-column justify-content-between">
                                            <div>
                                                <p class="mb-1 value_title">Status</p>
                                                <div t-if="record.active_label.raw_value == 'ENABLED'" class="status-box status-enabled">
                                                    <field name="active_label"/>
                                                </div>
                                                <div t-if="record.active_label.raw_value == 'DISABLED'" class="status-box status-disabled">
                                                    <field name="active_label"/>
                                                </div>
                                            </div>
                                            <div class="fam_grid_c_date">
                                                <p class="mb-1 value_title">Created at</p>
                                                <field name="create_date"/>
                                            </div>
                                        </div>
                                        <div class="fam_ce_date d-flex flex-column justify-content-between">
                                            <div>
                                                <p class="mb-1 value_title">Complete</p>
<!--                                                <field name="completeness" widget="progressbar_extended"/>-->
                                            </div>
                                            <div class="fam_grid_c_date">
                                                <p class="mb-1 value_title">Updated at</p>
                                                <field name="write_date"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
            </field>
        </record>


        <record id="view_product_management_tree" model="ir.ui.view">
            <field name="name">product.management.tree</field>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <list create="false" edit="false" default_order="create_date desc">
                    <header>
                        <button name="create_pim_products" type="object" class="btn-primary"
                                string="Create" display="always"
                                invisible="context.get('active_model', 'product.template') != 'product.template'"/>
                    </header>
                    <field name="id"/>
                    <field name="image_1920" widget="image" options="{'size': [50, 50]}"/>
                    <field name="name"/>
                    <field name="brand_id"/>
                    <field name="active_label"/>
                    <field name="create_date" string="Created"/>
                    <field name="write_date" string="Updated"/>
                    <field name="readable_variant_names" string="Variant products"/>
                </list>
            </field>
        </record>

        <record id="view_product_template_form_inherit" model="ir.ui.view">
            <field name="name">product.template.form.inh</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook" position="inside">
                    <page string="Attributes" name="attributes_page">
                        <group name="dynamic_attributes" string="Dynamic Attributes">
                        </group>
                    </page>
                </xpath>
<!--                move the pages after attribute-->
                <xpath expr="//page[@name='attributes_page']" position="after">
                    <page name="general_information" position="move"/>
                    <page name="variants" position="move"/>
                    <page name="sales" position="move"/>
                    <page name="inventory" position="move"/>
                </xpath>
<!--                <xpath expr="//page[@name='general_information']" position="inside">-->
<!--                    <field name="family_id"/>-->
<!--                </xpath>-->
<!--                <xpath expr="//page[@name='general_information']/field[@name='family_id']" position="after">-->
<!--                    <field name="brand_id"/>-->
<!--                </xpath>-->
            </field>
        </record>

        <record id="action_product_creation" model="ir.actions.act_window">
            <field name="name">Create Product</field>
            <field name="res_model">product.create</field>
            <field name="view_mode">form</field>
        </record>

        <record id="action_product_management_view" model="ir.actions.act_window">
            <field name="name">Products</field>
            <field name="res_model">product.template</field>
            <field name="view_mode">kanban,list,form</field>
<!--            <field name="view_id" ref="view_product_management_tree"/>-->
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('view_product_management_kanban')}),
                (0, 0, {'view_mode': 'list', 'view_id': ref('view_product_management_tree')}),
                ]"/>
            <field name="domain">[]</field>
        </record>

        <menuitem id="product_creation_menu"
                  name="Products"
                  parent="pim_ext.menu_root_product_managements"
                  action="action_product_management_view"
                  sequence="10"
                  />
    </data>
</odoo>